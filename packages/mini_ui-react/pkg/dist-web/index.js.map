{"version":3,"file":"index.js","sources":["../dist-src/Image/useImgLazyLoad.js","../dist-src/Image/index.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nconst useImgLazyLoad = url => {\n    const lazyLoad = url !== undefined;\n    const [loaded, setLoaded] = useState(!lazyLoad);\n    const [preloaded, setPreloaded] = useState(!lazyLoad);\n    const onLoaded = useCallback(() => {\n        setLoaded(true);\n    }, [setLoaded]);\n    useEffect(() => {\n        if (!lazyLoad)\n            return;\n        const lowImg = new Image();\n        lowImg.src = url;\n        lowImg.onload = () => {\n            setPreloaded(true);\n        };\n    }, [url, setPreloaded, lazyLoad]);\n    return { loaded, preloaded, onLoaded };\n};\nexport default useImgLazyLoad;\n","import React from 'react';\nimport useImgLazyLoad from './useImgLazyLoad';\nconst Image = ({ size, srcSets, style, imgStyle, aspectRatio, className, imgClassName, lowResSrc, ...props }) => {\n    const { loaded, preloaded, onLoaded } = useImgLazyLoad(lowResSrc);\n    return (React.createElement(\"div\", { style: {\n            width: size.width,\n            height: size.width / aspectRatio,\n            maxHeight: '100%',\n            maxWidth: '100%',\n            lineHeight: 0,\n            filter: loaded ? 'blur(0px)' : 'blur(10px)',\n            transition: 'filter 200ms ease',\n            backgroundPosition: 'center',\n            backgroundSize: 'cover',\n            backgroundImage: lowResSrc ? `url(${lowResSrc})` : undefined,\n            ...style,\n        }, className: className }, preloaded && (React.createElement(\"picture\", { style: { lineHeight: 0 } },\n        srcSets &&\n            srcSets.map(srcSet => React.createElement(\"source\", Object.assign({ key: srcSet.type }, srcSet))),\n        React.createElement(\"img\", Object.assign({ className: imgClassName, style: {\n                width: '100%',\n                height: '100%',\n                opacity: loaded ? 1 : 0,\n                transition: 'opacity 200ms ease',\n                objectFit: 'cover',\n                objectPosition: 'center',\n                boxSizing: 'border-box',\n                ...imgStyle,\n            }, loading: \"lazy\", onLoad: onLoaded }, props))))));\n};\nexport default Image;\nexport { useImgLazyLoad };\nexport { default as useContentfulImage } from './useContentfulImage';\nexport { default as useSanityImage } from './useSanityImage';\n"],"names":["Image"],"mappings":"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"}