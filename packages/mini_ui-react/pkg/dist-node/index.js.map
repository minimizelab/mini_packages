{"version":3,"file":"index.js","sources":["../dist-src/Image/useImgLazyLoad.js","../dist-src/Image/index.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nconst useImgLazyLoad = url => {\n    const lazyLoad = url !== undefined;\n    const [loaded, setLoaded] = useState(!lazyLoad);\n    const [preloaded, setPreloaded] = useState(!lazyLoad);\n    const onLoaded = useCallback(() => {\n        setLoaded(true);\n    }, [setLoaded]);\n    useEffect(() => {\n        if (!lazyLoad)\n            return;\n        const lowImg = new Image();\n        lowImg.src = url;\n        lowImg.onload = () => {\n            setPreloaded(true);\n        };\n    }, [url, setPreloaded, lazyLoad]);\n    return { loaded, preloaded, onLoaded };\n};\nexport default useImgLazyLoad;\n","import React from 'react';\nimport useImgLazyLoad from './useImgLazyLoad';\nconst Image = ({ size, srcSets, style, imgStyle, aspectRatio, className, imgClassName, lowResSrc, ...props }) => {\n    const { loaded, preloaded, onLoaded } = useImgLazyLoad(lowResSrc);\n    return (React.createElement(\"div\", { style: {\n            width: size.height * aspectRatio,\n            height: size.height,\n            maxHeight: '100%',\n            maxWidth: '100%',\n            lineHeight: 0,\n            filter: loaded ? 'blur(0px)' : 'blur(10px)',\n            transition: 'filter 200ms ease',\n            backgroundPosition: 'center',\n            backgroundSize: 'cover',\n            backgroundImage: lowResSrc !== undefined ? `url(${lowResSrc})` : undefined,\n            ...style,\n        }, className: className }, preloaded && (React.createElement(\"picture\", { style: { lineHeight: 0 } },\n        srcSets &&\n            srcSets.map(srcSet => React.createElement(\"source\", Object.assign({ key: srcSet.type }, srcSet))),\n        React.createElement(\"img\", Object.assign({ className: imgClassName, style: {\n                width: '100%',\n                height: '100%',\n                opacity: loaded ? 1 : 0,\n                transition: 'opacity 200ms ease',\n                objectFit: 'cover',\n                objectPosition: 'center',\n                boxSizing: 'border-box',\n                ...imgStyle,\n            }, loading: \"lazy\", onLoad: onLoaded }, props))))));\n};\nexport default Image;\nexport { useImgLazyLoad };\nexport { default as useContentfulImage } from './useContentfulImage';\nexport { default as useSanityImage } from './useSanityImage';\n"],"names":["useImgLazyLoad","url","lazyLoad","undefined","loaded","setLoaded","useState","preloaded","setPreloaded","onLoaded","useCallback","useEffect","lowImg","Image","src","onload","size","srcSets","style","imgStyle","aspectRatio","className","imgClassName","lowResSrc","props","React","createElement","width","height","maxHeight","maxWidth","lineHeight","filter","transition","backgroundPosition","backgroundSize","backgroundImage","map","srcSet","Object","assign","key","type","opacity","objectFit","objectPosition","boxSizing","loading","onLoad"],"mappings":"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"}